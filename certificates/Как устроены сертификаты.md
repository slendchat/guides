# Explanation of certificates

> ![[certs_tree.png]]

### X.509
- Это стандарт сертификатов.
- Определяет структуру сертификата: **issuer, subject, CN, SAN, public key, signature** и т.д.

### Base64 ASCII (текстовые)

#### **PEM (Privacy-Enhanced Mail)**
- Расширения: `.pem`, `.crt`, `.cer`, `.key`
- **ASCII-кодировка Base64**
- Содержимое между:
```
	-----BEGIN CERTIFICATE----- 
	 (Certificate)
	-----END CERTIFICATE-----
```

- Часто используется в **Linux**, **Apache**, **Nginx**.
- Может содержать:
    - Сертификат
    - Приватный ключ
    - Цепочку сертификатов

####  **PKCS#7**
- Расширения: `.p7b`, `.p7c`
- **Base64**
- Только **сертификаты**, **без приватного ключа**
- Часто используется в **Windows**, **Java (Tomcat)**

---

###  Binary (бинарные)
#### **DER (Distinguished Encoding Rules)**
- Расширения: `.der`, `.cer`
- **Бинарный формат**
- Тот же X.509, но в бинаре.
- Часто используется в **Java**, **Windows**
#### **PKCS#12**
- Расширения: `.pfx`, `.p12`
- **Бинарный**
- Содержит **сертификат + цепочку + приватный ключ**
- **Пароль-защищённый**
- Используется в **Windows**, **IIS**, **Mac**, **Browsers (импорт/экспорт)**

|Расширение|Формат|Что может содержать|Примечание|
|---|---|---|---|
|`.pem`|PEM|Сертификат / ключ / цепочка|ASCII текст, удобен для скриптов|
|`.crt`|PEM|Сертификат|Alias для `.pem`|
|`.cer`|PEM/DER|Сертификат|Может быть как текст, так и бинар|
|`.key`|PEM|Приватный ключ|Только ключ|
|`.csr`|PEM|Запрос на сертификат|`BEGIN CERTIFICATE REQUEST`|
|`.p7b`|PKCS#7|Только сертификаты (без ключа)|Используется в Windows|
|`.pfx`|PKCS#12|Сертификат + ключ + цепочка|С паролем, удобно переносить всё|
|`.p12`|PKCS#12|То же, что `.pfx`|Взаимозаменяемы|
## Источники

https://aboutssl.org/ssl-guide/
